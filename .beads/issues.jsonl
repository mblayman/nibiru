{"id":"nb-06n","content_hash":"03af1ee9aa2dc506f05166008dbfda78c9d9925766039bac2706f61574dbdae8","title":"Implement basic if/endif with true condition","description":"Support {% if show %}Hello World{% endif %} when condition is true","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:53:55.310450396-05:00","updated_at":"2025-11-10T00:00:12.069728634-05:00","closed_at":"2025-11-10T00:00:12.069728634-05:00","source_repo":".","dependencies":[{"issue_id":"nb-06n","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:53:55.312277305-05:00","created_by":"daemon"}]}
{"id":"nb-0dl","content_hash":"d7a534e9701db1918d8d7470b292c76a47a8bcb4378fc624fecc2ff42ccf8a3a","title":"Handle non-iterable values in for loops gracefully","description":"Ensure {% for item in non_iterable %} doesn't crash (may produce empty output)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:51.573400891-05:00","updated_at":"2025-11-11T18:51:51.573400891-05:00","source_repo":"."}
{"id":"nb-0pb","content_hash":"7dc3279c610a8ad44559111a9755a49bf178476a340a3000417ea1eb5f8df87a","title":"Implement nested if/endif blocks (outer condition false)","description":"Support nested {% if %} blocks where outer condition is false (inner never evaluated)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:19.79950968-05:00","updated_at":"2025-11-11T18:27:15.022686587-05:00","closed_at":"2025-11-11T18:27:15.022686587-05:00","source_repo":".","dependencies":[{"issue_id":"nb-0pb","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:19.801123528-05:00","created_by":"daemon"}]}
{"id":"nb-0t6","content_hash":"c7c461981c9d2e712e163a1e1f0fe450d33e1a7a70116599f7258a86752a7c55","title":"Implement if/endif with nested property access","description":"Support {% if user.profile.settings.enabled %} with deep object property access","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:03.623571845-05:00","updated_at":"2025-11-10T00:07:42.588750093-05:00","closed_at":"2025-11-10T00:07:42.588750093-05:00","source_repo":".","dependencies":[{"issue_id":"nb-0t6","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:03.625747661-05:00","created_by":"daemon"}]}
{"id":"nb-18a","content_hash":"1637fd4cd499bd9d0a7133dd38edca4ab5e10c86bb821aa33405644dbfe40c65","title":"Implement truthy value handling (true, numbers, non-empty strings)","description":"Ensure {% if value %} treats true, 1, 'hello' as truthy","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:00.27311359-05:00","updated_at":"2025-11-10T00:03:36.434128163-05:00","closed_at":"2025-11-10T00:03:36.434128163-05:00","source_repo":".","dependencies":[{"issue_id":"nb-18a","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:00.275306438-05:00","created_by":"daemon"}]}
{"id":"nb-25a","content_hash":"b2ca75ba4b926283c3b80e652dbb6b79ff472b1c261ab7291bc409288328a135","title":"Implement if/endif with complex HTML content","description":"Support {% if %} blocks containing complex HTML structures and multiple elements","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:16.703247534-05:00","updated_at":"2025-11-11T18:08:16.956042671-05:00","closed_at":"2025-11-11T18:08:16.956042671-05:00","source_repo":".","dependencies":[{"issue_id":"nb-25a","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:16.704667216-05:00","created_by":"daemon"}]}
{"id":"nb-29p","content_hash":"ea25d8fc975096984a6a9fc8fa502814d1fcd47fb72e2ca7d302c6a9cb6f3748","title":"Handle orphaned endfor without matching for","description":"Detect and report error for {% endfor %} without matching {% for %}","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:42.769452981-05:00","updated_at":"2025-11-11T18:51:42.769452981-05:00","source_repo":"."}
{"id":"nb-398","content_hash":"226533f9d7872290299e9f10c75749a70c88082d54ab8abf32b02c3443f1df47","title":"Design template component system","description":"Design the component-based template system that will make templates easy for AI to create and compose. Define component structure, registration, and usage patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T22:46:44.812724075-05:00","updated_at":"2025-11-09T15:42:14.029586034-05:00","closed_at":"2025-11-09T15:42:14.029586034-05:00","source_repo":"."}
{"id":"nb-3it","content_hash":"7accb58858866f13dc89b1b975e87acc028b839d20863cd2d0f2e2ff9ed9d1b3","title":"Implement if/endif with complex boolean expressions","description":"Support {% if count \u003e 0 and visible %} with arithmetic and logical operators","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:05.18481403-05:00","updated_at":"2025-11-10T00:08:36.711385166-05:00","closed_at":"2025-11-10T00:08:36.711385166-05:00","source_repo":".","dependencies":[{"issue_id":"nb-3it","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:05.186194839-05:00","created_by":"daemon"}]}
{"id":"nb-46m","content_hash":"72edac5d3f63d05f40d7da8980e6ecd117d19ba9a2579333f2304907702b1c01","title":"Handle empty array iteration gracefully","description":"Ensure {% for item in items %} produces no output when items array is empty","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:34.962365666-05:00","updated_at":"2025-11-11T18:51:34.962365666-05:00","source_repo":"."}
{"id":"nb-4ab","content_hash":"a2b5428ad2de5043f9bd3f831eec3bca8ba949e2c4ef2ff6b29600c37e208266","title":"Support complex expressions in for loop variables","description":"Allow expressions like {{ item.price * 1.1 }} inside for loops","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:40.100466338-05:00","updated_at":"2025-11-11T22:35:15.448433555-05:00","closed_at":"2025-11-11T22:35:15.448433555-05:00","source_repo":"."}
{"id":"nb-4f5","content_hash":"5079b21d5135c1735d6372b71d85202b6abdae7ff05779ef514a496474efa8b4","title":"Handle unclosed for loop blocks with error","description":"Detect and report error for {% for item in items %} without matching {% endfor %}","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:41.831059401-05:00","updated_at":"2025-11-11T22:36:31.815469273-05:00","closed_at":"2025-11-11T22:36:31.815469273-05:00","source_repo":"."}
{"id":"nb-5bv","content_hash":"05e39d132204551d34e782e03b91fdff0ca3002dc4c0f55a04929636d2059489","title":"Write user documentation in docs/","description":"Create comprehensive user documentation including API reference, usage examples, and tutorials in the docs/ directory.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:49.667727675-05:00","updated_at":"2025-11-09T23:23:49.667727675-05:00","source_repo":".","dependencies":[{"issue_id":"nb-5bv","depends_on_id":"nb-e06","type":"blocks","created_at":"2025-11-09T23:23:49.669410701-05:00","created_by":"daemon"}]}
{"id":"nb-5dw","content_hash":"6e4de088ed8e6f707b4b8f4147de7037680813931e679363efc269223a82c3eb","title":"Implement multiple if/endif blocks in single template","description":"Support multiple independent {% if %} blocks in the same template","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:14.987142364-05:00","updated_at":"2025-11-10T00:29:27.782094456-05:00","closed_at":"2025-11-10T00:29:27.782094456-05:00","source_repo":".","dependencies":[{"issue_id":"nb-5dw","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:14.989110759-05:00","created_by":"daemon"}]}
{"id":"nb-5ne","content_hash":"b653bc12e8a7827c8aa6b21f33de3cdf4c0b47e3466428c25b014db6beea5e9f","title":"Implement indexed array iteration with ipairs()","description":"Support {% for index, item in ipairs(items) %} syntax for indexed iteration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:37.251762123-05:00","updated_at":"2025-11-11T22:13:04.525241889-05:00","closed_at":"2025-11-11T22:13:04.525241889-05:00","source_repo":"."}
{"id":"nb-69m","content_hash":"dfc2a3c4808449cfd46fb04eb0b7f2b19176bc5e8ae3006967e57fe2a09d778a","title":"Implement filter pipeline parsing (|\u003e)","description":"Add filter support with pipeline operator |\u003e for function calls like {{ value |\u003e filter1 |\u003e filter2 }}.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:22:48.17114031-05:00","updated_at":"2025-11-09T23:22:48.17114031-05:00","source_repo":".","dependencies":[{"issue_id":"nb-69m","depends_on_id":"nb-vum","type":"blocks","created_at":"2025-11-09T23:22:48.172542927-05:00","created_by":"daemon"}]}
{"id":"nb-6ij","content_hash":"dcbacab0913a1c334cf11a0f68e2e8d0f4d61878a89d75108b9dc2a36caf0067","title":"Handle malformed boolean expressions in conditions","description":"Detect and report error for malformed expressions like {% if user.name == \"test\" and %}","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:32.304688151-05:00","updated_at":"2025-11-11T18:27:06.923803777-05:00","closed_at":"2025-11-11T18:27:06.923803777-05:00","source_repo":".","dependencies":[{"issue_id":"nb-6ij","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:32.307032875-05:00","created_by":"daemon"}]}
{"id":"nb-6sd","content_hash":"e466d9b689b806bc51fbb8faddc31ba6a442cf4087e8c782918744946ed1aaca","title":"Implement basic for loop array iteration","description":"Support {% for item in items %}...{% endfor %} syntax for basic array iteration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:32.181074462-05:00","updated_at":"2025-11-11T18:54:37.947352153-05:00","closed_at":"2025-11-11T18:54:37.947352153-05:00","source_repo":".","dependencies":[{"issue_id":"nb-6sd","depends_on_id":"nb-mze","type":"blocks","created_at":"2025-11-11T18:51:32.18170863-05:00","created_by":"daemon"}]}
{"id":"nb-7ld","content_hash":"24775fe2e9f7e7cbc81394359c615d5e1a15c9f4d2816981ecfaed91cbbde2fe","title":"Design template component system","description":"Design the component-based template system that will make templates easy for AI to create and compose. Define component structure, registration, and usage patterns.","design":"Component-based template system design decisions:\n- Components use Capital naming (Button, not button) to distinguish from HTML elements\n- XML-style syntax: \u003cButton class=\\\"primary\\\" text=\\\"Save\\\"/\u003e\n- Components inlined during compilation (no function call overhead)\n- Template string registration API\n- Top-level templates compile to single functions with everything inlined\n- Self-closing syntax: \u003cButton/\u003e for simple components, \u003cButton\u003e\u003c/Button\u003e for content\n- Compilation: Components become inline string concatenation in final function\n- ERROR SEMANTICS: Compile-time validation of component names with clear error messages\n- Validation: Registry lookup during compilation, suggests corrections for typos","acceptance_criteria":"Design document completed with syntax specification","notes":"Final test of auto-sync functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T22:48:44.452692648-05:00","updated_at":"2025-11-09T00:46:09.328010509-05:00","closed_at":"2025-11-09T00:46:09.328010509-05:00","source_repo":".","dependencies":[{"issue_id":"nb-7ld","depends_on_id":"nb-ib4","type":"parent-child","created_at":"2025-11-08T22:48:49.49595573-05:00","created_by":"daemon"}]}
{"id":"nb-7lw","content_hash":"3302d73841d9d318c7c5d3b3f6e8f787a40a04f9fc7cc694662926f97ca3e5b1","title":"Handle malformed for loop syntax - missing 'in' keyword","description":"Detect and report error for {% for item items %} (missing 'in' keyword)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:48.225829769-05:00","updated_at":"2025-11-11T18:51:48.225829769-05:00","source_repo":"."}
{"id":"nb-7yf","content_hash":"d46010c73c68f56760b0b491923dbafe3975992e3afa3bd934e1625798743631","title":"Design comprehensive template syntax and features","description":"Design the full template syntax including expressions, control flow, filters, partials, and other advanced features beyond basic variable interpolation.","design":"Template macros design:\\n- Skipped - components provide sufficient reusable functionality ✅\\n- No need for additional macro system\\n- Template design is feature-complete\\n- Focus on components for reusable UI elements","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T23:32:41.739285357-05:00","updated_at":"2025-11-09T10:16:31.244887155-05:00","closed_at":"2025-11-09T10:16:31.244887155-05:00","source_repo":".","dependencies":[{"issue_id":"nb-7yf","depends_on_id":"nibiru-7ld","type":"blocks","created_at":"2025-11-08T23:32:41.742832576-05:00","created_by":"daemon"},{"issue_id":"nb-7yf","depends_on_id":"nb-7ld","type":"blocks","created_at":"2025-11-08T23:32:41.742832576-05:00","created_by":"daemon"}]}
{"id":"nb-82e","content_hash":"7cdc01edb1e63c5cc4c3cab1528a4e42bda8dc7663d0f9b27944efd445a87260","title":"Implement compile-time validation and error checking","description":"Add comprehensive validation during template compilation to catch errors early and provide clear error messages.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:43.448184957-05:00","updated_at":"2025-11-09T23:23:43.448184957-05:00","source_repo":".","dependencies":[{"issue_id":"nb-82e","depends_on_id":"nb-8vk","type":"blocks","created_at":"2025-11-09T23:23:43.450183709-05:00","created_by":"daemon"}]}
{"id":"nb-8ek","content_hash":"fabd7153bbfc45ab2f165547c76a102384a58759d439937f3759e784d2d8f115","title":"Implement template inheritance ({% extends %}, {% block %})","description":"Add template inheritance support with {% extends \"base.html\" %} and {% block name %}...{% endblock %} syntax.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:22:46.163281732-05:00","updated_at":"2025-11-09T23:22:46.163281732-05:00","source_repo":".","dependencies":[{"issue_id":"nb-8ek","depends_on_id":"nb-vum","type":"blocks","created_at":"2025-11-09T23:22:46.164722763-05:00","created_by":"daemon"}]}
{"id":"nb-8tq","content_hash":"aa341ab26ceefe20f326a113a992cb837208346f324d155c1b9975bb49827ad6","title":"Ensure safe execution environment","description":"Implement sandboxing and security measures to ensure templates execute safely without access to dangerous functions.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:45.673876237-05:00","updated_at":"2025-11-09T23:23:45.673876237-05:00","source_repo":".","dependencies":[{"issue_id":"nb-8tq","depends_on_id":"nb-8vk","type":"blocks","created_at":"2025-11-09T23:23:45.675126337-05:00","created_by":"daemon"}]}
{"id":"nb-8vk","content_hash":"8d7600d7818502eab1c7f676d8d7527146090178b0b53e8c0bb4981b1204fc52","title":"Phase 3: Compilation \u0026 Optimization","description":"Optimize template compilation, add validation, and ensure safe execution environment.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-09T23:22:49.210785182-05:00","updated_at":"2025-11-09T23:22:49.210785182-05:00","source_repo":".","dependencies":[{"issue_id":"nb-8vk","depends_on_id":"nb-dgw","type":"blocks","created_at":"2025-11-09T23:22:49.212031424-05:00","created_by":"daemon"}]}
{"id":"nb-9uo","content_hash":"ce82f1b5c3365d01e94df40476fb82a331e059344dad95ba723ef6472f4f0c58","title":"Implement nested if/endif blocks (inner condition false)","description":"Support nested {% if %} blocks where outer is true but inner condition is false","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:21.409939324-05:00","updated_at":"2025-11-11T18:15:48.689341809-05:00","closed_at":"2025-11-11T18:15:48.689341809-05:00","source_repo":".","dependencies":[{"issue_id":"nb-9uo","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:21.41133954-05:00","created_by":"daemon"}]}
{"id":"nb-abf","content_hash":"78235b2b572640b0519efb0e4d9be32cdfd9db2323f17586afb5f82dcabce912","title":"Add performance optimizations","description":"Implement performance optimizations including caching, lazy evaluation, and efficient data structures.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:44.544999169-05:00","updated_at":"2025-11-09T23:23:44.544999169-05:00","source_repo":".","dependencies":[{"issue_id":"nb-abf","depends_on_id":"nb-8vk","type":"blocks","created_at":"2025-11-09T23:23:44.546323569-05:00","created_by":"daemon"}]}
{"id":"nb-ayp","content_hash":"c380c3ad6613ff1524039484c98af60a7fa785192962d1bf2b9d932e1bdccfc4","title":"Handle malformed for loop syntax - missing variable","description":"Detect and report error for {% for in items %} (missing loop variable)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:43.528064845-05:00","updated_at":"2025-11-11T18:51:43.528064845-05:00","source_repo":"."}
{"id":"nb-bk3","content_hash":"883d3f91bfece79ed1d453cb9aee211d84ce50d031e9bfe3205b622c52f395bd","title":"Handle unclosed if/endif blocks with proper error","description":"Detect and report error for {% if condition %} without matching {% endif %}","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:22.948433639-05:00","updated_at":"2025-11-09T23:54:22.948433639-05:00","source_repo":".","dependencies":[{"issue_id":"nb-bk3","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:22.950300764-05:00","created_by":"daemon"}]}
{"id":"nb-cuw","content_hash":"b7cb84cfdf23d17a9ba2827548cc0c7ba3024f1f0d536518c39aad54852a94f5","title":"Generate optimized Lua functions for all features","description":"Optimize template compilation to generate efficient Lua functions with minimal overhead for all template features.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:42.271988848-05:00","updated_at":"2025-11-09T23:23:42.271988848-05:00","source_repo":".","dependencies":[{"issue_id":"nb-cuw","depends_on_id":"nb-8vk","type":"blocks","created_at":"2025-11-09T23:23:42.274038496-05:00","created_by":"daemon"}]}
{"id":"nb-dgw","content_hash":"7421461a7447965e5d006f5f16248bccf38cd5ad3ced7fb3525a7d224d9650ef","title":"Complete component-based template engine","description":"Finish the template engine with component-based architecture optimized for AI development. Focus on predictable structure, minimal syntax, and composable components.","design":"Template Engine Implementation Plan:\n\nCORE FEATURES TO IMPLEMENT:\n1. Component Registration API - template.component(name, template_string)\n2. Template Compilation - Convert templates to Lua functions\n3. Component Inlining - Merge components into parent templates\n4. Expression Parsing - Math, strings, safe navigation (?.)\n5. Control Flow - {% if/endif %}, {% for/endfor %}\n6. Filters - Pipeline operator |\u003e with function calls\n7. Comments - {-- comments --}\n8. Advanced Variables - Dynamic property access user[key]\n9. Whitespace Control - {{- -}} trimming\n10. Template Inheritance - {% extends %}, {% block %}\n\nARCHITECTURE:\n- Parser: Tokenize and parse template syntax\n- Compiler: Generate optimized Lua functions\n- Registry: Store component definitions\n- Validation: Compile-time error checking\n- Environment: Safe execution context\n\nTESTING REQUIREMENTS:\n- 100% statement coverage\n- Unit tests for all features\n- Integration tests for compilation\n- Performance benchmarks\n- Mock unsafe operations\n\nDEPENDENCIES:\n- Blocks on completed design (✅ nb-7ld)\n- Requires luatest for testing\n- Uses existing tokenizer foundation\n\nCURRENT CODEBASE STATE:\n- lua/nibiru/template.lua: Basic variable interpolation, compilation to functions\n- lua/nibiru/tokenizer.lua: Tokenizes {{ }}, {% %}, and text\n- Missing: Component system, expressions, control flow, filters, etc.\n\nIMPLEMENTATION PHASES:\nPhase 1: Core Infrastructure\n- Extend tokenizer for new syntax (expressions, filters, comments, etc.)\n- Build expression parser (math, strings, safe navigation)\n- Create component registry system\n- Implement basic component inlining\n\nPhase 2: Control Flow \u0026 Advanced Features\n- Add {% if/endif %} and {% for/endfor %} parsing\n- Implement template inheritance ({% extends %}, {% block %})\n- Add whitespace control parsing\n- Implement filter pipeline parsing\n\nPhase 3: Compilation \u0026 Optimization\n- Generate optimized Lua functions for all features\n- Implement compile-time validation and error checking\n- Add performance optimizations\n- Ensure safe execution environment\n\nPhase 4: Testing \u0026 Documentation\n- 100% test coverage with luatest\n- Performance benchmarks\n- User documentation in docs/\n- Developer documentation with EmmyLua annotations\n\nFILES TO MODIFY:\n- lua/nibiru/template.lua (main engine)\n- lua/nibiru/tokenizer.lua (extend for new syntax)\n- tests/test_template.lua (comprehensive test suite)\n\nQUALITY REQUIREMENTS (from AGENTS.md):\n- 100% statement coverage\n- Tests for all code changes\n- Linting with Lua LSP\n- Formatting with stylua\n- Performance benchmarks\n- Comprehensive error messages","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-09T21:37:02.819869536-05:00","updated_at":"2025-11-09T23:22:40.099572435-05:00","source_repo":".","dependencies":[{"issue_id":"nb-dgw","depends_on_id":"nb-7ld","type":"blocks","created_at":"2025-11-08T22:48:49.841237276-05:00","created_by":"daemon"}]}
{"id":"nb-doe","content_hash":"f43c9c3c8f483e97b471f64a105f8e5a377c73b8ca779079acee0c50af3c71b7","title":"Support nested for loops","description":"Allow {% for %} loops to be nested inside each other","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:38.172217491-05:00","updated_at":"2025-11-11T22:28:33.423168717-05:00","closed_at":"2025-11-11T22:28:33.423168717-05:00","source_repo":"."}
{"id":"nb-e06","content_hash":"6f6e7e2115e5fba204d4e6d73db2e0243f2946fd001b81be8310848217b10f39","title":"Phase 4: Testing \u0026 Documentation","description":"Complete testing coverage, performance benchmarks, and comprehensive documentation.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-09T23:22:50.271378376-05:00","updated_at":"2025-11-09T23:22:50.271378376-05:00","source_repo":".","dependencies":[{"issue_id":"nb-e06","depends_on_id":"nb-dgw","type":"blocks","created_at":"2025-11-09T23:22:50.272823313-05:00","created_by":"daemon"}]}
{"id":"nb-e94","content_hash":"1608209a4211a47f3cf99188d8b31d0148c026f46a0a980c36f50a35e1b8a40e","title":"Implement {% if/endif %} control flow parsing","description":"Add support for conditional rendering with {% if condition %}...{% endif %} syntax in templates.","notes":"Blocked by 20 child issues covering all if/endif functionality. Each test case is now a separate task for focused implementation.","status":"blocked","priority":2,"issue_type":"task","created_at":"2025-11-09T23:22:43.822833916-05:00","updated_at":"2025-11-09T23:54:34.03752944-05:00","source_repo":".","dependencies":[{"issue_id":"nb-e94","depends_on_id":"nb-vum","type":"blocks","created_at":"2025-11-09T23:22:43.824689629-05:00","created_by":"daemon"}]}
{"id":"nb-ea8","content_hash":"af490c6567a9ae01f2be74b5ffcf5f0077ae346daa559fbe0c369a3ceb48e040","title":"Implement if/endif with default value expressions","description":"Support {% if user.name or \"Guest\" == \"Alice\" %} with or operator for defaults","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:06.777996572-05:00","updated_at":"2025-11-10T00:09:28.025011601-05:00","closed_at":"2025-11-10T00:09:28.025011601-05:00","source_repo":".","dependencies":[{"issue_id":"nb-ea8","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:06.779901368-05:00","created_by":"daemon"}]}
{"id":"nb-ehu","content_hash":"6cc741adb570d6e767e847f823e95a321a6c9a888fe18f5db15e4bb5a52855bb","title":"Implement if/endif with equality expressions","description":"Support {% if user.name == \"Alice\" %}Welcome Alice{% endif %}","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:01.983073348-05:00","updated_at":"2025-11-10T00:05:55.687765132-05:00","closed_at":"2025-11-10T00:05:55.687765132-05:00","source_repo":".","dependencies":[{"issue_id":"nb-ehu","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:01.985015785-05:00","created_by":"daemon"}]}
{"id":"nb-f67","content_hash":"0d0eded29705630bca660dd378ac3aea91bf4bc9d8ae45ccdc278e6b1cd656d0","title":"Support for loops with expressions and conditionals","description":"Allow {% if %} conditionals inside {% for %} loops","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:39.150401103-05:00","updated_at":"2025-11-11T22:33:40.849056612-05:00","closed_at":"2025-11-11T22:33:40.849056612-05:00","source_repo":"."}
{"id":"nb-h22","content_hash":"673741fcaab76ba2579c1ccd909a1350fbf5886461a849d8dbc76b107458f6e3","title":"Implement key-value pair iteration with pairs()","description":"Support {% for key, value in pairs(data) %} syntax for table iteration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:36.208960361-05:00","updated_at":"2025-11-11T22:09:02.756897955-05:00","closed_at":"2025-11-11T22:09:02.756897955-05:00","source_repo":"."}
{"id":"nb-ib4","content_hash":"75f499ddc43c54eda5f3e840abf7d5b13ba6dbda645a1896445466de93920342","title":"Design AI-optimized Lua web framework architecture","description":"Design the overall architecture for an AI-optimized Lua web framework, focusing on components that make development easy for AI systems. Cover core architecture, data handling, security, and development tools.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-09T21:37:02.822019073-05:00","updated_at":"2025-11-09T21:37:02.822019073-05:00","source_repo":"."}
{"id":"nb-j13","content_hash":"0370d1b78c42e5bc5d417bdd7b9db2106f68374a0cea3b5e4b119e920252029f","title":"Handle orphaned endif without matching if","description":"Detect and report error for {% endif %} without matching {% if %}","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:27.995513751-05:00","updated_at":"2025-11-09T23:54:27.995513751-05:00","source_repo":".","dependencies":[{"issue_id":"nb-j13","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:27.997382889-05:00","created_by":"daemon"}]}
{"id":"nb-l7z","content_hash":"ace1f352960bd13a08ba0301ae03e8992aef146063153d4ddbd923d3af026a67","title":"Implement nested if/endif blocks (both conditions true)","description":"Support nested {% if %} blocks where both outer and inner conditions are true","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:18.369369591-05:00","updated_at":"2025-11-11T18:13:20.495108431-05:00","closed_at":"2025-11-11T18:13:20.495108431-05:00","source_repo":".","dependencies":[{"issue_id":"nb-l7z","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:18.371033733-05:00","created_by":"daemon"}]}
{"id":"nb-mze","content_hash":"0967d199c9881e964784b2b6646e075ed009ac39e45a7688817dd2a1f82b4c9d","title":"Implement {% for/endfor %} loop parsing","description":"Add support for iteration with {% for item in items %}...{% endfor %} syntax in templates.","status":"blocked","priority":2,"issue_type":"task","created_at":"2025-11-09T23:22:44.965648591-05:00","updated_at":"2025-11-11T18:52:01.201637331-05:00","source_repo":".","dependencies":[{"issue_id":"nb-mze","depends_on_id":"nb-vum","type":"blocks","created_at":"2025-11-09T23:22:44.967148643-05:00","created_by":"daemon"}]}
{"id":"nb-n2n","content_hash":"a976b1293495507d41b73a8a3e43ea636b4942d37f4488412ee7d54409aa71d0","title":"Handle empty for loop syntax","description":"Detect and report error for {% for %} (completely empty for statement)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:49.786405227-05:00","updated_at":"2025-11-11T18:51:49.786405227-05:00","source_repo":"."}
{"id":"nb-nrl","content_hash":"d8886f90978b075e6d8f7177860c94a27aca524391b8875df27845ecef975b84","title":"Improve tokenizer with attribute validation and error handling","description":"Enhanced tokenizer with attribute validation and error detection. Added validate_unquoted_attribute function and malformed attribute detection. Added comprehensive tokenizer tests for component parsing.","design":"Add attribute validation function in tokenizer.lua that checks unquoted attribute values for invalid characters (\u003e \" ' { }). Create special error tokens (MALFORMED_ATTRIBUTE) for invalid syntax. Improve error recovery logic to properly consume tokens when malformed syntax is encountered.","acceptance_criteria":"Tokenizer correctly identifies malformed attributes and generates appropriate error tokens. Parser handles malformed attribute tokens gracefully without cascading errors. Tests pass for malformed attribute detection.","notes":"Completed: Added attribute validation function, malformed attribute detection, comprehensive component tokenizer tests. Next: Implement special error tokens and improve parser error recovery.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-09T22:05:49.518258159-05:00","updated_at":"2025-11-09T22:13:19.889210381-05:00","closed_at":"2025-11-09T22:13:19.889210381-05:00","source_repo":"."}
{"id":"nb-obm","content_hash":"64c97498a7f98a1924cbabdca66b7b9a60ae29307601e7e08bff33a7ca09336d","title":"Implement falsy value handling (false, nil, 0, empty string, empty table)","description":"Ensure {% if value %} treats false, nil, 0, '', {} as falsy","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:53:58.706267062-05:00","updated_at":"2025-11-10T00:03:35.451439269-05:00","closed_at":"2025-11-10T00:03:35.451439269-05:00","source_repo":".","dependencies":[{"issue_id":"nb-obm","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:53:58.707703696-05:00","created_by":"daemon"}]}
{"id":"nb-ot8","content_hash":"312038c1b96b92cc9fed55d24d8309b7784c26688d4d73a01922bc82d4e4b814","title":"Implement if/endif with string concatenation","description":"Support {% if greeting .. name == \"HelloWorld\" %} with string operations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:13.248195122-05:00","updated_at":"2025-11-10T00:11:28.221617578-05:00","closed_at":"2025-11-10T00:11:28.221617578-05:00","source_repo":".","dependencies":[{"issue_id":"nb-ot8","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:13.250012483-05:00","created_by":"daemon"}]}
{"id":"nb-py7","content_hash":"0b3309db51576cec41c8b466956dd49038a0e55f86a4cbe5ec7f2e97fc256d71","title":"Complete component-based template engine","description":"Finish the template engine with component-based architecture optimized for AI development. Focus on predictable structure, minimal syntax, and composable components.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-08T22:46:43.920063789-05:00","updated_at":"2025-11-09T15:42:13.405718008-05:00","closed_at":"2025-11-09T15:42:13.405718008-05:00","source_repo":"."}
{"id":"nb-r7v","content_hash":"64e256f77ae6f91ccb3251ab98c8e55c655580ba18a314b42773d0ed4c25a46b","title":"Implement basic if/endif with false condition","description":"Support {% if show %}Hello World{% endif %} when condition is false (renders nothing)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:53:56.962933776-05:00","updated_at":"2025-11-10T00:03:34.278838752-05:00","closed_at":"2025-11-10T00:03:34.278838752-05:00","source_repo":".","dependencies":[{"issue_id":"nb-r7v","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:53:56.964671878-05:00","created_by":"daemon"}]}
{"id":"nb-s1n","content_hash":"0b6e0620d8c81a1d46c12430a296b7a3725958daa92ba0673c5b44fb113390fe","title":"Implement whitespace control parsing ({{- -}})","description":"Add whitespace trimming support with {{- expression -}} syntax to control whitespace around template expressions.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:22:47.197128511-05:00","updated_at":"2025-11-09T23:22:47.197128511-05:00","source_repo":".","dependencies":[{"issue_id":"nb-s1n","depends_on_id":"nb-vum","type":"blocks","created_at":"2025-11-09T23:22:47.19867972-05:00","created_by":"daemon"}]}
{"id":"nb-sge","content_hash":"29d5f2a5df2b3780f130c469cb0e644467ce243d988b4a08b10b8621ce63e460","title":"Implement proper variable scoping in for loops","description":"Ensure loop variables don't leak outside the loop scope","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:41.037747309-05:00","updated_at":"2025-11-11T22:28:35.584503388-05:00","closed_at":"2025-11-11T22:28:35.584503388-05:00","source_repo":"."}
{"id":"nb-t7c","content_hash":"95a874282903129e9150f86133d4dde68614448774fe659342658653dc236c28","title":"Establish implementation rules and expectations","description":"Define clear rules for user docs, developer docs, testing, linting, formatting, and issue cleanup to ensure consistent high-quality implementation.","design":"Implementation rules - Issue Cleanup:\\n- Regular cleanup: review completed issues weekly ✅\\n- Status accuracy: keep current ✅\\n- Description updates: as understanding evolves ✅\\n- Duplicate removal: merge/close duplicates ✅\\n- Dependency management: keep accurate ✅\\n- Archive old issues: only with user confirmation ❌ (changed from automatic)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T10:26:30.404152617-05:00","updated_at":"2025-11-09T15:42:12.724880189-05:00","closed_at":"2025-11-09T15:42:12.724880189-05:00","source_repo":"."}
{"id":"nb-t8n","content_hash":"0b6e503a327c9c0743f2ff12ed7a627b8d587e056a04d4bb1d1f0b97963c615c","title":"Implement if/endif with arithmetic expressions","description":"Support {% if x + y \u003e 10 %} with mathematical operations in conditions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:08.528857474-05:00","updated_at":"2025-11-10T00:10:36.932715293-05:00","closed_at":"2025-11-10T00:10:36.932715293-05:00","source_repo":".","dependencies":[{"issue_id":"nb-t8n","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:08.530248864-05:00","created_by":"daemon"}]}
{"id":"nb-tnq","content_hash":"6a4b8979702e9b58689479800103f100fa803500db11987cbd17d63746c399ed","title":"Handle malformed for loop syntax - missing expression","description":"Detect and report error for {% for item in %} (missing collection expression)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:49.000085425-05:00","updated_at":"2025-11-11T18:51:49.000085425-05:00","source_repo":"."}
{"id":"nb-vum","content_hash":"efaba77b85966046251e10b6891c9ea351c506a6456af14b154faf5a2d37dffa","title":"Phase 2: Control Flow \u0026 Advanced Features","description":"Implement control flow statements and advanced template features for the component-based template engine.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-09T23:22:41.580730552-05:00","updated_at":"2025-11-09T23:22:41.580730552-05:00","source_repo":".","dependencies":[{"issue_id":"nb-vum","depends_on_id":"nb-dgw","type":"blocks","created_at":"2025-11-09T23:22:41.581983928-05:00","created_by":"daemon"}]}
{"id":"nb-ww0","content_hash":"41e3c42220128dd18f7893141d7a8d01b8be0cea36ab3f534c20144a207ebc36","title":"Handle invalid syntax in if conditions","description":"Detect and report error for malformed expressions like {% if user.name == %}","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:30.753181034-05:00","updated_at":"2025-11-11T18:26:41.71508378-05:00","closed_at":"2025-11-11T18:26:41.71508378-05:00","source_repo":".","dependencies":[{"issue_id":"nb-ww0","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:30.754959642-05:00","created_by":"daemon"}]}
{"id":"nb-wzu","content_hash":"3171a4525e03cf89802b8c2bc733d86d37a86d1531e4ea2ac586d860aae2eafc","title":"Create performance benchmarks","description":"Develop comprehensive performance benchmarks to measure template compilation and rendering speed across different scenarios.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:48.60698819-05:00","updated_at":"2025-11-09T23:23:48.60698819-05:00","source_repo":".","dependencies":[{"issue_id":"nb-wzu","depends_on_id":"nb-e06","type":"blocks","created_at":"2025-11-09T23:23:48.608234151-05:00","created_by":"daemon"}]}
{"id":"nb-xez","content_hash":"c337a4e3c7fea9dec7591b62ffecd65b25d8de43911bde6424ba946d6259cb23","title":"Implement template component system","description":"Implement the component-based template system with registration API, compilation, and attribute evaluation. Support \u003cComponent attr=value/\u003e syntax with expression evaluation.","notes":"Component system implementation progress: 10/14 tests passing. Added validation for malformed component tags (deferred to rendering time). Fixed test_component_missing_self_closing_tag. Remaining: handle various malformed component syntaxes and unclosed tags.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T21:36:41.763531295-05:00","updated_at":"2025-11-09T22:16:22.906241377-05:00","closed_at":"2025-11-09T22:16:22.906241377-05:00","source_repo":"."}
{"id":"nb-xh5","content_hash":"211eae348b46aeea6917f387cc79f08779f460438c7a0497982e5ca5e187c2d8","title":"Handle empty if conditions with proper error","description":"Detect and report error for {% if %} without any condition expression","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:54:29.431937956-05:00","updated_at":"2025-11-11T18:22:40.292666581-05:00","closed_at":"2025-11-11T18:22:40.292666581-05:00","source_repo":".","dependencies":[{"issue_id":"nb-xh5","depends_on_id":"nb-e94","type":"blocks","created_at":"2025-11-09T23:54:29.433976313-05:00","created_by":"daemon"}]}
{"id":"nb-ys2","content_hash":"ea8f9041a61f07b6e26b4303ee0e805abd4e04adbdb9bf444ac71224dd2cbd57","title":"Add developer documentation with EmmyLua annotations","description":"Add comprehensive EmmyLua annotations to all Lua code for better IDE support and developer experience.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:50.750413433-05:00","updated_at":"2025-11-09T23:23:50.750413433-05:00","source_repo":".","dependencies":[{"issue_id":"nb-ys2","depends_on_id":"nb-e06","type":"blocks","created_at":"2025-11-09T23:23:50.752020797-05:00","created_by":"daemon"}]}
{"id":"nb-yt2","content_hash":"7cd8642e558257ad84492612bb2c204af7086df00dfb9839151f4814a131cc7c","title":"Complete template engine core infrastructure","description":"Finish Phase 1 of template engine implementation: extend tokenizer for advanced syntax and build robust expression parser with proper property access support. This is a focused task on core infrastructure improvements.","design":"Phase 1 Core Infrastructure:\n- Extend tokenizer for advanced syntax (filters, comments, whitespace control, etc.)\n- Fix expression parser bugs (property access user.name, complex expressions)\n- Implement safe navigation (?.) if needed\n- Ensure robust tokenization of all planned syntax elements\n- Add comprehensive tests for expression parsing","acceptance_criteria":"Tokenizer handles all planned syntax elements. Expression parser correctly handles property access, complex expressions, and edge cases. All expression parsing tests pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T23:09:40.386340778-05:00","updated_at":"2025-11-09T23:19:13.340317434-05:00","closed_at":"2025-11-09T23:19:13.340317434-05:00","source_repo":".","dependencies":[{"issue_id":"nb-yt2","depends_on_id":"nb-dgw","type":"blocks","created_at":"2025-11-09T23:09:40.394922121-05:00","created_by":"daemon"}]}
{"id":"nb-zfh","content_hash":"24d1d0856ef2915196b1fd1891bfa9b9e69f313a53393347eacc6f6faaa2a497","title":"Achieve 100% test coverage with luatest","description":"Write comprehensive tests to achieve 100% statement coverage for all template engine code using luatest framework.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T23:23:46.909767451-05:00","updated_at":"2025-11-09T23:23:46.909767451-05:00","source_repo":".","dependencies":[{"issue_id":"nb-zfh","depends_on_id":"nb-e06","type":"blocks","created_at":"2025-11-09T23:23:46.911066222-05:00","created_by":"daemon"}]}
{"id":"nb-ziw","content_hash":"ef889bce1f5783e5c6ba7a58e746f5b1f06a38ee2599716d6755ac3315b719e2","title":"Handle nil collection in for loops gracefully","description":"Ensure {% for item in nil %} doesn't crash and produces empty output","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-11T18:51:50.656944744-05:00","updated_at":"2025-11-11T18:51:50.656944744-05:00","source_repo":"."}
{"id":"nibiru-398","content_hash":"98d800c48b9c2d28981144a4e5d8865af3faf8b98616ac70ab1ec9ddf3e5de4b","title":"Design template component system","description":"Design the component-based template system that will make templates easy for AI to create and compose. Define component structure, registration, and usage patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T22:46:44.812724075-05:00","updated_at":"2025-11-09T15:42:14.029586034-05:00","closed_at":"2025-11-09T15:42:14.029586034-05:00","source_repo":"."}
{"id":"nibiru-7ld","content_hash":"f1e1b9a90937d7a8380a08926fc1bbb5b223b6df2d90f8cd126621c8d17b85c3","title":"Design template component system","description":"Design the component-based template system that will make templates easy for AI to create and compose. Define component structure, registration, and usage patterns.","design":"Component-based template system design decisions:\n- Components use Capital naming (Button, not button) to distinguish from HTML elements\n- XML-style syntax: \u003cButton class=\\\"primary\\\" text=\\\"Save\\\"/\u003e\n- Components inlined during compilation (no function call overhead)\n- Template string registration API\n- Top-level templates compile to single functions with everything inlined\n- Self-closing syntax: \u003cButton/\u003e for simple components, \u003cButton\u003e\u003c/Button\u003e for content\n- Compilation: Components become inline string concatenation in final function\n- ERROR SEMANTICS: Compile-time validation of component names with clear error messages\n- Validation: Registry lookup during compilation, suggests corrections for typos","acceptance_criteria":"Design document completed with syntax specification","notes":"Final test of auto-sync functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T22:48:44.452692648-05:00","updated_at":"2025-11-09T00:46:09.328010509-05:00","closed_at":"2025-11-09T00:46:09.328010509-05:00","source_repo":"."}
{"id":"nibiru-gw2","content_hash":"273383d908ffd8e9036b2c3e8a010843b65f73c711846c6afcf856d83f5778d0","title":"Design template component system","description":"Design the component-based template system that will make templates easy for AI to create and compose. Define component structure, registration, and usage patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T22:46:46.265236982-05:00","updated_at":"2025-11-09T15:42:13.70562478-05:00","closed_at":"2025-11-09T15:42:13.70562478-05:00","source_repo":".","dependencies":[{"issue_id":"nibiru-gw2","depends_on_id":"nibiru-398","type":"blocks","created_at":"2025-11-08T22:48:46.871927458-05:00","created_by":"daemon"}]}
{"id":"nibiru-py7","content_hash":"f4dc5cfabbb86f7ff87acf5e5b88de42ce866906b825175e2db587bc19ed88ac","title":"Complete component-based template engine","description":"Finish the template engine with component-based architecture optimized for AI development. Focus on predictable structure, minimal syntax, and composable components.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-08T22:46:43.920063789-05:00","updated_at":"2025-11-09T15:42:13.405718008-05:00","closed_at":"2025-11-09T15:42:13.405718008-05:00","source_repo":"."}
